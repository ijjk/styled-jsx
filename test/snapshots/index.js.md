# Snapshot report for `test/index.js`

The actual snapshot is saved in `index.js.snap`.

Generated by [AVA](https://ava.li).

## generates source maps

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    export default (() => <div className={"jsx-2743241663"}>␊
        <p className={"jsx-2743241663"}>test</p>␊
        <p className={"jsx-2743241663"}>woot</p>␊
        <_JSXStyle id={"2743241663"}>{"p.jsx-2743241663{color:red;}"}</_JSXStyle>␊
      </div>);`

## handles dynamic `this` value inside of arrow function

> Snapshot 1

    `"use strict";␊
    ␊
    Object.defineProperty(exports, "__esModule", {␊
      value: true␊
    });␊
    exports.default = void 0;␊
    ␊
    var _style = _interopRequireDefault(require("styled-jsx/style"));␊
    ␊
    var _react = _interopRequireWildcard(require("react"));␊
    ␊
    function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }␊
    ␊
    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }␊
    ␊
    function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }␊
    ␊
    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }␊
    ␊
    function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }␊
    ␊
    function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }␊
    ␊
    function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }␊
    ␊
    function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }␊
    ␊
    function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }␊
    ␊
    function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }␊
    ␊
    function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }␊
    ␊
    var Index =␊
    /*#__PURE__*/␊
    function (_Component) {␊
      _inherits(Index, _Component);␊
    ␊
      function Index() {␊
        _classCallCheck(this, Index);␊
    ␊
        return _possibleConstructorReturn(this, _getPrototypeOf(Index).apply(this, arguments));␊
      }␊
    ␊
      _createClass(Index, [{␊
        key: "render",␊
        value: function render() {␊
          var _this = this;␊
    ␊
          return <div className={_style.default.dynamic([["1028791522", [_this.props.color]]])}>␊
            {[1, 2].map(function (idx) {␊
              return <div key={idx} className={_style.default.dynamic([["1028791522", [_this.props.color]]])}>␊
                {[3, 4].map(function (idx2) {␊
                  return <div key={idx2} className={_style.default.dynamic([["1028791522", [_this.props.color]]])}>{_this.props.color}</div>;␊
                })}␊
              </div>;␊
            })}␊
            {[1, 2].map(function (idx) {␊
              return <div key={idx} className={_style.default.dynamic([["1028791522", [_this.props.color]]])}>␊
                <div className={_style.default.dynamic([["1028791522", [_this.props.color]]])}>␊
                  {_this.props.color}␊
                  <div className={_style.default.dynamic([["1028791522", [_this.props.color]]]) + " " + "something"}>␊
                    <_react.default.Fragment>␊
                      <div className={_style.default.dynamic([["1028791522", [_this.props.color]]])}>␊
                        <div className={_style.default.dynamic([["1028791522", [_this.props.color]]])}>{_this.props.color} hello there</div>␊
                      </div>␊
                    </_react.default.Fragment>␊
                  </div>␊
                </div>␊
              </div>;␊
            })}␊
            <_style.default id={"1028791522"} dynamic={[_this.props.color]}>{"div.__jsx-style-dynamic-selector{background:".concat(this.props.color, ";}")}</_style.default>␊
          </div>;␊
        }␊
      }], [{␊
        key: "getInitialProps",␊
        value: function getInitialProps() {␊
          return {␊
            color: 'aquamarine'␊
          };␊
        }␊
      }]);␊
    ␊
      return Index;␊
    }(_react.Component);␊
    ␊
    exports.default = Index;`

## ignores when attribute is absent

> Snapshot 1

    `const a = () => <div>␊
        <p>hi</p>␊
        <style>{'woot'}</style>␊
      </div>;`

## ignores whitespace around expression container

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    export default (() => <div className={"jsx-2743241663"}>␊
        <p className={"jsx-2743241663"}>test</p>␊
        <p className={"jsx-2743241663"}>woot</p>␊
        <p className={"jsx-2743241663"}>woot</p>␊
        <_JSXStyle id={"2743241663"}>{"p.jsx-2743241663{color:red;}"}</_JSXStyle>␊
      </div>);`

## mixed global and scoped

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    ␊
    const Test = () => <_JSXStyle id={"2743241663"}>{"p{color:red;}"}</_JSXStyle>;␊
    ␊
    export default (() => <div className={"jsx-2673076688"}>␊
        <p className={"jsx-2673076688"}>test</p>␊
        <_JSXStyle id={"4269072806"}>{"body{background:red;}"}</_JSXStyle>␊
        <_JSXStyle id={"2743241663"}>{"p.jsx-2673076688{color:red;}"}</_JSXStyle>␊
      </div>);`

## should have different jsx ids

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    const color = 'red';␊
    const otherColor = 'green';␊
    ␊
    const A = () => <div className={"jsx-57381496"}>␊
        <p className={"jsx-57381496"}>test</p>␊
        <_JSXStyle id={"57381496"}>{`p.jsx-57381496{color:${color};}`}</_JSXStyle>␊
      </div>;␊
    ␊
    const B = () => <div className={"jsx-3099245642"}>␊
        <p className={"jsx-3099245642"}>test</p>␊
        <_JSXStyle id={"3099245642"}>{`p.jsx-3099245642{color:${otherColor};}`}</_JSXStyle>␊
      </div>;␊
    ␊
    export default (() => <div>␊
        <A />␊
        <B />␊
      </div>);`

## should not add the data-jsx attribute to components instances

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    ␊
    const Test = () => <div className={"jsx-2529315885"}>␊
        <span className={"jsx-2529315885"}>test</span>␊
        <Component />␊
        <_JSXStyle id={"2529315885"}>{"span.jsx-2529315885{color:red;}"}</_JSXStyle>␊
      </div>;`

## works with class

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    export default class {␊
      render() {␊
        return <div className={"jsx-2101845350"}>␊
            <p className={"jsx-2101845350"}>test</p>␊
            <_JSXStyle id={"2101845350"}>{"p.jsx-2101845350{color:red;}"}</_JSXStyle>␊
          </div>;␊
      }␊
    ␊
    }`

## works with css tagged template literals in the same file

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    export default (({␊
      children␊
    }) => <div className={`jsx-${styles.__hash}`}>␊
        <p className={`jsx-${styles.__hash}`}>{children}</p>␊
        <_JSXStyle id={styles.__hash}>{styles}</_JSXStyle>␊
      </div>);␊
    const styles = new String("p.jsx-2587355013{color:red;}");␊
    styles.__hash = "2587355013";␊
    ␊
    class Test extends React.Component {␊
      render() {␊
        return <div className={`jsx-${styles.__hash}`}>␊
            <p className={`jsx-${styles.__hash}`}>{this.props.children}</p>␊
            <_JSXStyle id={styles.__hash}>{styles}</_JSXStyle>␊
          </div>;␊
      }␊
    ␊
    }`

## works with dynamic element

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    export default (({␊
      level = 1␊
    }) => {␊
      const Element = `h${level}`;␊
      return <Element className={"jsx-1253978709" + " " + "root"}>␊
          <p className={"jsx-1253978709"}>dynamic element</p>␊
          <_JSXStyle id={"1253978709"}>{".root.jsx-1253978709{background:red;}"}</_JSXStyle>␊
        </Element>;␊
    });␊
    export const TestLowerCase = ({␊
      level = 1␊
    }) => {␊
      const element = `h${level}`;␊
      return <element className={"jsx-1253978709" + " " + "root"}>␊
          <p className={"jsx-1253978709"}>dynamic element</p>␊
          <_JSXStyle id={"1253978709"}>{".root.jsx-1253978709{background:red;}"}</_JSXStyle>␊
        </element>;␊
    };␊
    const Element2 = 'div';␊
    export const Test2 = () => {␊
      return <Element2 className="root">␊
          <p className={"jsx-1253978709"}>dynamic element</p>␊
          <_JSXStyle id={"1253978709"}>{".root.jsx-1253978709{background:red;}"}</_JSXStyle>␊
        </Element2>;␊
    };`

## works with dynamic element in class

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    export default class {␊
      render() {␊
        const Element = 'div';␊
        return <Element className={"jsx-1800172487" + " " + "root"}>␊
            <p className={"jsx-1800172487"}>dynamic element</p>␊
            <_JSXStyle id={"1800172487"}>{".root.jsx-1800172487{background:red;}"}</_JSXStyle>␊
          </Element>;␊
      }␊
    ␊
    }␊
    const Element2 = 'div';␊
    export const Test2 = class {␊
      render() {␊
        return <Element2 className="root">␊
            <p className={"jsx-1800172487"}>dynamic element</p>␊
            <_JSXStyle id={"1800172487"}>{".root.jsx-1800172487{background:red;}"}</_JSXStyle>␊
          </Element2>;␊
      }␊
    ␊
    };`

## works with expressions in template literals

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    ␊
    const darken = c => c;␊
    ␊
    const color = 'red';␊
    const otherColor = 'green';␊
    const mediumScreen = '680px';␊
    const animationDuration = '200ms';␊
    const animationName = 'my-cool-animation';␊
    const obj = {␊
      display: 'block'␊
    };␊
    export default (({␊
      display␊
    }) => <div className={"jsx-3922596756 " + _JSXStyle.dynamic([["1795062918", [display ? 'block' : 'none']]])}>␊
        <p className={"jsx-3922596756 " + _JSXStyle.dynamic([["1795062918", [display ? 'block' : 'none']]])}>test</p>␊
        <_JSXStyle id={"1003380713"}>{`p.${color}.jsx-3922596756{color:${otherColor};display:${obj.display};}`}</_JSXStyle>␊
        <_JSXStyle id={"2743241663"}>{"p.jsx-3922596756{color:red;}"}</_JSXStyle>␊
        <_JSXStyle id={"602592955"}>{`body{background:${color};}`}</_JSXStyle>␊
        <_JSXStyle id={"602592955"}>{`body{background:${color};}`}</_JSXStyle>␊
        <_JSXStyle id={"128557999"}>{`p.jsx-3922596756{color:${color};}`}</_JSXStyle>␊
        <_JSXStyle id={"128557999"}>{`p.jsx-3922596756{color:${color};}`}</_JSXStyle>␊
        <_JSXStyle id={"2622100973"}>{`p.jsx-3922596756{color:${darken(color)};}`}</_JSXStyle>␊
        <_JSXStyle id={"1167419394"}>{`p.jsx-3922596756{color:${darken(color) + 2};}`}</_JSXStyle>␊
        <_JSXStyle id={"4052509549"}>{`@media (min-width:${mediumScreen}){p.jsx-3922596756{color:green;}p.jsx-3922596756{color:${`red`};}}p.jsx-3922596756{color:red;}`}</_JSXStyle>␊
        <_JSXStyle id={"2824547816"}>{`p.jsx-3922596756{-webkit-animation-duration:${animationDuration};animation-duration:${animationDuration};}`}</_JSXStyle>␊
        <_JSXStyle id={"417951176"}>{`p.jsx-3922596756{-webkit-animation:${animationDuration} forwards ${animationName};animation:${animationDuration} forwards ${animationName};}div.jsx-3922596756{background:${color};}`}</_JSXStyle>␊
    ␊
        <_JSXStyle id={"1795062918"} dynamic={[display ? 'block' : 'none']}>{`span.__jsx-style-dynamic-selector{display:${display ? 'block' : 'none'};}`}</_JSXStyle>␊
      </div>);`

## works with fragment

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    import React from 'react';␊
    export default (() => <>␊
        <p className={"jsx-1712488456"}>Testing!!!</p>␊
        <p className={"jsx-1712488456" + " " + "foo"}>Bar</p>␊
        <>␊
          <h3 id="head" className={"jsx-1712488456"}>Title...</h3>␊
          <React.Fragment>␊
            <p className={"jsx-1712488456"}>hello</p>␊
            <>␊
              <p className={"jsx-1712488456"}>foo</p>␊
              <p className={"jsx-1712488456"}>bar</p>␊
            </>␊
            <p className={"jsx-1712488456"}>world</p>␊
          </React.Fragment>␊
        </>␊
        <_JSXStyle id={"1712488456"}>{"p.jsx-1712488456{color:cyan;}.foo.jsx-1712488456{font-size:18px;color:hotpink;}#head.jsx-1712488456{-webkit-text-decoration:underline;text-decoration:underline;}"}</_JSXStyle>␊
      </>);␊
    ␊
    function Component1() {␊
      return <>␊
          <div>test</div>␊
        </>;␊
    }␊
    ␊
    function Component2() {␊
      return <div className={"jsx-4156136654"}>␊
          <_JSXStyle id={"4156136654"}>{"div.jsx-4156136654{color:red;}"}</_JSXStyle>␊
        </div>;␊
    }`

## works with global styles

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    ␊
    const Test = () => <div className={"jsx-2209073070"}>␊
        <_JSXStyle id={"2209073070"}>{"body{color:red;}:hover{color:red;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-animation:foo 1s ease-out;animation:foo 1s ease-out;}div a{display:none;}[data-test]>div{color:red;}"}</_JSXStyle>␊
      </div>;␊
    ␊
    const Test2 = () => <_JSXStyle id={"2743241663"}>{"p{color:red;}"}</_JSXStyle>;`

## works with multiple jsx blocks

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    const attrs = {␊
      id: 'test'␊
    };␊
    ␊
    const Test1 = () => <div className={"jsx-2529315885"}>␊
        <span {...attrs} data-test="test" className={"jsx-2529315885" + " " + (attrs.className != null && attrs.className || "")}>test</span>␊
        <Component />␊
        <_JSXStyle id={"2529315885"}>{"span.jsx-2529315885{color:red;}"}</_JSXStyle>␊
      </div>;␊
    ␊
    const Test2 = () => <span>test</span>;␊
    ␊
    const Test3 = () => <div className={"jsx-2529315885"}>␊
        <span className={"jsx-2529315885"}>test</span>␊
        <_JSXStyle id={"2529315885"}>{"span.jsx-2529315885{color:red;}"}</_JSXStyle>␊
      </div>;␊
    ␊
    export default class {␊
      render() {␊
        return <div className={"jsx-2101845350"}>␊
            <p className={"jsx-2101845350"}>test</p>␊
            <_JSXStyle id={"2101845350"}>{"p.jsx-2101845350{color:red;}"}</_JSXStyle>␊
          </div>;␊
      }␊
    ␊
    }`

## works with non styled-jsx styles

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    export default (() => <div className={"jsx-2743241663"}>␊
        <p className={"jsx-2743241663"}>woot</p>␊
        <style dangerouslySetInnerHTML={{␊
        __html: `body { margin: 0; }`␊
      }}></style>␊
        <_JSXStyle id={"2743241663"}>{"p.jsx-2743241663{color:red;}"}</_JSXStyle>␊
      </div>);`

## works with stateless

> Snapshot 1

    `import _JSXStyle from "styled-jsx/style";␊
    export default (() => <div className={"jsx-2743241663"}>␊
        <p className={"jsx-2743241663"}>test</p>␊
        <p className={"jsx-2743241663"}>woot</p>␊
        <p className={"jsx-2743241663"}>woot</p>␊
        <_JSXStyle id={"2743241663"}>{"p.jsx-2743241663{color:red;}"}</_JSXStyle>␊
      </div>);`
